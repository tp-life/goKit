# Notion-Lite å‰ç«¯

åŸºäº Vue 3 + Tailwind CSS + Editor.js çš„å‰ç«¯åº”ç”¨ã€‚

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å®‰è£…ä¾èµ–

```bash
npm install
```

### å¼€å‘æ¨¡å¼

```bash
npm run dev
```

åº”ç”¨å°†åœ¨ `http://localhost:3000` å¯åŠ¨ã€‚

### æ„å»ºç”Ÿäº§ç‰ˆæœ¬

```bash
npm run build
```

æ„å»ºäº§ç‰©åœ¨ `dist` ç›®å½•ã€‚

## ğŸ“ é¡¹ç›®ç»“æ„

```
web/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/      # ç»„ä»¶
â”‚   â”‚   â””â”€â”€ Editor.vue  # Editor.js ç¼–è¾‘å™¨ç»„ä»¶
â”‚   â”œâ”€â”€ views/          # é¡µé¢
â”‚   â”‚   â”œâ”€â”€ Home.vue    # é¦–é¡µï¼ˆæ—¶é—´è½´ï¼‰
â”‚   â”‚   â”œâ”€â”€ Login.vue   # ç™»å½•é¡µ
â”‚   â”‚   â”œâ”€â”€ Register.vue # æ³¨å†Œé¡µ
â”‚   â”‚   â”œâ”€â”€ MemoCreate.vue # åˆ›å»º Memo
â”‚   â”‚   â”œâ”€â”€ PageEdit.vue   # ç¼–è¾‘é¡µé¢
â”‚   â”‚   â””â”€â”€ Pages.vue       # é¡µé¢åˆ—è¡¨
â”‚   â”œâ”€â”€ stores/         # Pinia çŠ¶æ€ç®¡ç†
â”‚   â”‚   â””â”€â”€ auth.js     # è®¤è¯çŠ¶æ€
â”‚   â”œâ”€â”€ utils/          # å·¥å…·å‡½æ•°
â”‚   â”‚   â”œâ”€â”€ api.js      # API å®¢æˆ·ç«¯ï¼ˆå« Token è‡ªåŠ¨åˆ·æ–°ï¼‰
â”‚   â”‚   â”œâ”€â”€ imageCompress.js # å›¾ç‰‡å‹ç¼©
â”‚   â”‚   â””â”€â”€ offlineQueue.js  # ç¦»çº¿é˜Ÿåˆ—
â”‚   â”œâ”€â”€ router/         # è·¯ç”±é…ç½®
â”‚   â”œâ”€â”€ App.vue         # æ ¹ç»„ä»¶
â”‚   â””â”€â”€ main.js         # å…¥å£æ–‡ä»¶
â”œâ”€â”€ index.html
â”œâ”€â”€ package.json
â””â”€â”€ vite.config.js
```

## ğŸ”‘ æ ¸å¿ƒåŠŸèƒ½

### 1. Token è‡ªåŠ¨åˆ·æ–°

`src/utils/api.js` ä¸­çš„æ‹¦æˆªå™¨ä¼šè‡ªåŠ¨å¤„ç† Token åˆ·æ–°ï¼š

- è¯·æ±‚æ—¶è‡ªåŠ¨æ·»åŠ  `Authorization` å¤´
- 401 é”™è¯¯æ—¶è‡ªåŠ¨ä½¿ç”¨ Refresh Token åˆ·æ–°
- åˆ·æ–°å¤±è´¥æ—¶è‡ªåŠ¨è·³è½¬ç™»å½•é¡µ

### 2. å›¾ç‰‡å‹ç¼©

`src/utils/imageCompress.js` åœ¨ä¸Šä¼ å‰è‡ªåŠ¨å‹ç¼©å›¾ç‰‡ï¼š

- æœ€å¤§å°ºå¯¸ï¼š1920px
- æœ€å¤§æ–‡ä»¶å¤§å°ï¼š500KB
- ä½¿ç”¨ Canvas API å‹ç¼©

### 3. ç¦»çº¿æ”¯æŒ

`src/utils/offlineQueue.js` å®ç°ç¦»çº¿å­˜å‚¨ï¼š

- ç½‘ç»œæ–­å¼€æ—¶è‡ªåŠ¨ä¿å­˜åˆ° LocalStorage
- ç½‘ç»œæ¢å¤åè‡ªåŠ¨åŒæ­¥
- æ”¯æŒé‡è¯•æœºåˆ¶ï¼ˆæœ€å¤š 3 æ¬¡ï¼‰

### 4. Editor.js é›†æˆ

`src/components/Editor.vue` å°è£…äº† Editor.jsï¼š

- æ”¯æŒ Headerã€Paragraphã€Listã€Image
- å›¾ç‰‡ä¸Šä¼ è‡ªåŠ¨ä½¿ç”¨ API å®¢æˆ·ç«¯
- æ”¯æŒåªè¯»æ¨¡å¼ï¼ˆåˆ†äº«é¡µï¼‰

## ğŸ¨ æ ·å¼

ä½¿ç”¨ Tailwind CSSï¼Œä¸»è¦é¢œè‰²ï¼š

- Primary: `#0ea5e9` (è“è‰²)
- è‡ªå®šä¹‰å·¥å…·ç±»ï¼š`.btn`, `.input`, `.card`

## ğŸ“¡ API å¯¹æ¥

æ‰€æœ‰ API è¯·æ±‚é€šè¿‡ `src/utils/api.js` ç»Ÿä¸€å¤„ç†ï¼š

- åŸºç¡€ URL: `http://localhost:8080`ï¼ˆå¯é€šè¿‡ç¯å¢ƒå˜é‡é…ç½®ï¼‰
- è‡ªåŠ¨æ·»åŠ  Token
- è‡ªåŠ¨å¤„ç†é”™è¯¯å’Œåˆ·æ–°

## ğŸ”§ ç¯å¢ƒå˜é‡

åˆ›å»º `.env` æ–‡ä»¶ï¼š

```env
VITE_API_BASE_URL=http://localhost:8080
```

## ğŸ“ æ³¨æ„äº‹é¡¹

1. **Token å­˜å‚¨**: Access Token å­˜å†…å­˜ï¼ŒRefresh Token å­˜ LocalStorage
2. **å›¾ç‰‡å‹ç¼©**: ç§»åŠ¨ç«¯ä¸Šä¼ å‰å¿…é¡»å‹ç¼©è‡³ 500KB ä»¥å†…
3. **ç¦»çº¿æ”¯æŒ**: ä½¿ç”¨ LocalStorage é˜Ÿåˆ—ï¼Œç½‘ç»œæ¢å¤åè‡ªåŠ¨é‡è¯•
4. **Editor.js é…ç½®**: Image Tool å¿…é¡»é…ç½® `additionalRequestHeaders` æºå¸¦ JWT
5. **åªè¯»æ¨¡å¼**: åˆ†äº«é¡µè‡ªåŠ¨è®¾ç½® `readOnly: true`

## ğŸ› å¼€å‘å»ºè®®

1. ä½¿ç”¨ Vue DevTools è°ƒè¯•çŠ¶æ€ç®¡ç†
2. ä½¿ç”¨æµè§ˆå™¨ Network é¢æ¿æŸ¥çœ‹ API è¯·æ±‚
3. æ£€æŸ¥ Console æŸ¥çœ‹é”™è¯¯ä¿¡æ¯
4. ä½¿ç”¨ Vue Router çš„å¯¼èˆªå®ˆå«è°ƒè¯•è·¯ç”±
